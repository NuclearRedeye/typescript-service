sudo: false
language: node_js
node_js:
- lts/*
services:
- docker
install:
- npm install
script:
- npm run lint
- npm run build
- npm run test
deploy:
  skip_cleanup: true
  provider: script
  script: >-
    echo "$DOCKER_HUB_PASSWORD" | docker login -u "$DOCKER_HUB_USERNAME" --password-stdin && 
    docker build -t joelsummerfield/experiment.typescript-service . &&
    docker tag joelsummerfield/experiment.typescript-service joelsummerfield/experiment.typescript-service:${TRAVIS_TAG#?} &&
    docker push joelsummerfield/experiment.typescript-service
  on:
    branch: master
    tags: true
env:
  global:
  - secure: SsNSL5gPpZnTchTEz0m9/LyOwDqum5oOWKh8zjof7cSS0Z892MrFTlsyF4laqNyPLx+zFf7djBY9qSFCpYRO1rlBeVHGpFkK3WpBUURKEOhf2h6FP/s47Oll3ZgUgx0TkfOEDJCAnvZKDyYkLe+oofnxdtdY8vqm0WZawafFNVO0X09tOLkmVqkiVKVmH6DuQiDiXlZ1unG7ZuohA9FdD80xJN3lSJQZYRaSzYebOs4vopTzxbI7HZJRHBUkBgcpG9jmTMxlWSvSV4BXx2vrCw15gdlucoxgmvusQLU9vxXucx1f8axS3YFXbV1wrmUgqp/wFDfYAmXRcfBJkBeCa88g/Dy31JXzw3mU5xPg06an/6ZaKdGEukTssxsU/pjhco7Cp0S516pSRlW2Iup5XOiU93BkPA28zLbjpxlknMFl2uhsQGyNn4UmDWu7be31nuU1jdEoxx6vwCPnBrIgBS90q+aQYywNFtZaPsH3zAssWvajI42KFzKGhLXFv5pmcZK7GVAj7Tye+ZaowTF47x0RA3SPxDTTK1yh1/FaMiVXpEccQnZM/N0++GZEo20dLUnlhw4dQHuXxJZ91nehupOb5boDU9EaCtKVR0Sy9OG/afcNt0Qrqt4tn8iZwUN4DvCBVm9asYsXWPSWZyX0OT6uJtDQyrNUmLc8t7/2+mU=
  - secure: mIIqjuvh97ZL7AD5+OXVsjWf9f9JTHi5hNI5nCSGACZGm0AFNnyDhiqP0ooUqHBXBAw3fn7Cz8W9Jas28vxK7norbGmHOzDII54VAI06Oc3t+lcPC93V8UWo8p6vd1blebDenvp+JdCPs+A7K4ZWFqNd22YpKo4qBuDwm0i+PY1l8b8E3YuubBgeo/9T1uapsFrnotuIivKXNEjduyuINePRnnz7Z1D0lV//iOt3r9LNuWsQ5yKZjRF3xGXGtQ3h8PWA1kBtiSUJ7Mv+mXjM4oLOAxB68C1j84ukk3xFIwKV/v7PnwloHU3NaLSwAaykAiBfjdQI4ZgkIOpXbETXUAhQ7dBLng4IY38c3PGBqasxQFI3COaig5MgFA8gmSspeK9vHLbL0aXqJbeZgsL1lnVKrE9F84/Fe2k0vsF4ZO3nvaDrwh2OevgQQBuuthZxvx1b4tmQmSwiYTYT13IyrgbpcSPe7sffJoHC1JSFAhdtDvmnHIXum0bm7xtps+dG5/3OwbHSsk0G9xME2GRZFPcf/L5ptzI2x29Jl01iR3XGyeIuy3v7RiOSucsb9h083TPVKBo9B5D3j4hVk/1n7abIkOSk9WtL9kwf5+4P4X4Z4gRLFFIlm94+1JBtV6Ibg5tX07hRvk/6kOD7TmBeioH/4HcqBiSLi70kbMiTS7w=
