sudo: required
language: node_js
node_js:
- lts/*
services:
- docker
install:
- npm install
script:
- npm run lint
- npm run build
- npm run test
deploy:
  skip_cleanup: true
  provider: script
  script: >-
    echo ${DOCKER_HUB_PASSWORD} | docker login -u ${DOCKER_HUB_USERNAME} --password-stdin && 
    docker build -t joelsummerfield/experiment.typescript-service . &&
    docker tag joelsummerfield/experiment.typescript-service joelsummerfield/experiment.typescript-service:${TRAVIS_TAG#?} &&
    docker push joelsummerfield/experiment.typescript-service
  on:
    branch: master
    tags: true
env:
  global:
  - secure: SsNSL5gPpZnTchTEz0m9/LyOwDqum5oOWKh8zjof7cSS0Z892MrFTlsyF4laqNyPLx+zFf7djBY9qSFCpYRO1rlBeVHGpFkK3WpBUURKEOhf2h6FP/s47Oll3ZgUgx0TkfOEDJCAnvZKDyYkLe+oofnxdtdY8vqm0WZawafFNVO0X09tOLkmVqkiVKVmH6DuQiDiXlZ1unG7ZuohA9FdD80xJN3lSJQZYRaSzYebOs4vopTzxbI7HZJRHBUkBgcpG9jmTMxlWSvSV4BXx2vrCw15gdlucoxgmvusQLU9vxXucx1f8axS3YFXbV1wrmUgqp/wFDfYAmXRcfBJkBeCa88g/Dy31JXzw3mU5xPg06an/6ZaKdGEukTssxsU/pjhco7Cp0S516pSRlW2Iup5XOiU93BkPA28zLbjpxlknMFl2uhsQGyNn4UmDWu7be31nuU1jdEoxx6vwCPnBrIgBS90q+aQYywNFtZaPsH3zAssWvajI42KFzKGhLXFv5pmcZK7GVAj7Tye+ZaowTF47x0RA3SPxDTTK1yh1/FaMiVXpEccQnZM/N0++GZEo20dLUnlhw4dQHuXxJZ91nehupOb5boDU9EaCtKVR0Sy9OG/afcNt0Qrqt4tn8iZwUN4DvCBVm9asYsXWPSWZyX0OT6uJtDQyrNUmLc8t7/2+mU=
  - secure: kSUlvVmjd3PdIJ4+Mnko6MmzAXuRsWLXjuTgZ9XKa/hT3lmhL+gMeGzA/MkJQ0Mo10+GXEwPqFYd9sTOyUOS0vq4FdKi7OHuRJeNOJYc6/sOtyOOwcUS8NE5dv9MYKoUs1gcfxt+ij6OpV0h/JE0RftbE218eWg2woSO2M3VkO27atqFS//ux7kOQxNkRKzG+s6sH2NTS1WYsFgSmAZv9vQqfAD/NM+Y9c22At4Z5j1NstSKkraDVw2S3plrzwXZUBCAEOTwnytDEXOuB4PQXg5UaejNDRqU+oADIyfEz+rHTzONr13XsG00mUjf12cqWqv8ubBZUJBHgRGBktV+yzz6aawzNQ6+XQGEP6gtYuKla+/3I/AQgo6aLNxOXqUJdDMULloH5zI+VYYmXVK3FM128DJTtJ44Lc1pbWMhDNxI0pLtEdQNuL8FfnuwRdB87ZN83dtk7atwSrrRqAksLNMMLnU0+NMs75nNeFIFzWYtDFAbOP+/Kil0g76XUwFWCAuYyPDhIw0JKUPM2BVAocLQMUiRSTgSvXR2rcghxSmyLEgGA4dBqMzpKlLi0eYDytSA/fgBTbFBFriv5RTZ7wAycWU86BOchJhKMK+xqTdkhwQXcyjHTiwz8jK9bQLFfYK0LlDeQKlw4+TEbYIJWFRo3JzEI4eyR5SuBieaN8c=
