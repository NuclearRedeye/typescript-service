sudo: required
language: node_js
node_js:
- lts/*
services:
- docker
install:
- npm install
script:
- npm run lint
- npm run build
- npm run test
deploy:
  skip_cleanup: true
  provider: script
  script: >-
    echo $DOCKER_HUB_PASSWORD | docker login -u $DOCKER_HUB_USERNAME --password-stdin && 
    docker build -t joelsummerfield/experiment.typescript-service . &&
    docker tag joelsummerfield/experiment.typescript-service joelsummerfield/experiment.typescript-service:${TRAVIS_TAG#?} &&
    docker push joelsummerfield/experiment.typescript-service
  on:
    branch: master
    tags: true
env:
  global:
  - secure: l8kJhPRLEcqjFl+1423XoSQ93smErEl2Ho8hAedxzKohRu5gSgfdz63avyzFbWZIgFABl8Y3t2kPwWY1G7QTcVmQfqQuy/Dz8HKg1+CLL4kDb5R2SIhijSLz2QKvMAvXlnsmu0kOI+Oe7//4vhvnGzFoj5PAt1tTSSVbqdrRZKngv2dR9MqgHO+llZOv1cVSJAqfCDmn8aJlsQWPJIvjT2HDDylUtnmrn9Wa6PjzsI0xbHFxzyDEIX1TQ7iW/vAYC+W7pJ/KH2XlyfQYP2ZKsui+Y30lgpQHQgksXX8zjVbvisrcCwRKMOn6z5NH+bCG4dyAwQ3YzsQd7R9vsOSnZh49PEQzrPS9gNC9wuFogn3IFHHhl3QHsrdAArt0VzoXZ0eUS6rmLBb7FONpzclKGRRviN4LVkUZK0jnk2pbr2mONsbzb0VOyxo+zJrgdbeOL6ObXNS+/3VhXRYA8pH/RzCkdfyX/o2hJJIsOg0iPGEueEMpt1K/SxG2Gii8l2IztSiAr5ZhqNXOPRCPX0oBgV3Vmi16o7XPIop2GyinpA9W4Ha+PB2YrwB+TTICnhZPRqLb9LJUDHjHmh2cO/HxSjseWt15B57bkt6sOv2F4TY1b+RQNJaxHZei0y0CoGHsU32BzpLGPj+h/jtNkU9fG3NB/Zp2Ce0jPIh1W/zaWSY=
  - secure: jMMHcNG92r/EvNyGdF+urixJo7rgUdJhFCjq3VR3ZNzbVlFwo6bdAt2zcSigbJqUTz4Lcyz12xVOOB1KpDKuq3RjorYNn06dj0d+ZBiXLaXlm+sggsw8k1Pw9FvHpYmsBSjFUSgYBFAyhXQOdqoKj7LI9egBSCLUFSWa5i69Fhm9IUkOcmeLG24Mfg069eH5NzNRMMe6iv8VwFsauX3yJOxs68xYuzWCuJJUMudknwzqE5vclxkiqQ0xxFb8i8MJQUrBfgKSFD+kETn6mTNZGoVX8tvPkQZDpayCwVlDW4lJfwNYTIa6yqHmy8ZGV6bnuw/p+S4wbZ1lKu9f9s3GAArnSyGrrhac7NJ8y8CCHr3qomBDKhrR3lOnX9DbaDHVdBGXmNPe+qGS9WtytSHmfbgQdMzLYr02lfrv0mjXYGOVZt1aepJTCDP9j9YThbUqpxWKjc5raoYlYpeSD7RXuk7oPbtQUcv6B63amzGCC5QW3UQgDYRpeeAyjiQ/+sjLBd/0ltwicRaqAx3PiPrmNkzCTTIzQHCN8uE/Mios3j51wS4JbeQ8qCUd83mqCBSMSG5CfNGZc1z7godflkaPfSIJNiT+NtB/1XNKSxrPrRv27Zz88W0dzkn+olHEURvLpfDHk3OxqB83DyekylAiIKgR7VSXsXkuIMX6mgUjqg8="
